diff --git a/node_modules/@metamask/snap-controllers/dist/snaps/SnapController.js b/node_modules/@metamask/snap-controllers/dist/snaps/SnapController.js
index aef2a42..b752ac4 100644
--- a/node_modules/@metamask/snap-controllers/dist/snaps/SnapController.js
+++ b/node_modules/@metamask/snap-controllers/dist/snaps/SnapController.js
@@ -822,7 +822,7 @@ class SnapController extends controllers_1.BaseControllerV2 {
      * @param newVersionRange - A semver version range in which the maximum version will be chosen.
      * @returns The snap metadata if updated, `null` otherwise.
      */
-    async updateSnap(origin, snapId, newVersionRange = snap_utils_1.DEFAULT_REQUESTED_SNAP_VERSION) {
+     async updateSnap(origin, snapId, newVersionRange = snap_utils_1.DEFAULT_REQUESTED_SNAP_VERSION) {
         const snap = this.getExpect(snapId);
         if (!(0, snap_utils_1.isValidSnapVersionRange)(newVersionRange)) {
             throw new Error(`Received invalid snap version range: "${newVersionRange}".`);
@@ -830,7 +830,7 @@ class SnapController extends controllers_1.BaseControllerV2 {
         const newSnap = await this._fetchSnap(snapId, newVersionRange);
         const newVersion = newSnap.manifest.version;
         if (!(0, snap_utils_1.gtVersion)(newVersion, snap.version)) {
-            console.warn(`Tried updating snap "${snapId}" within "${newVersionRange}" version range, but newer version "${newVersion}" is already installed`);
+            console.warn(`Tried updating snap "${snapId}" within "${newVersionRange}" version range, but newer version "${snap.version}" is already installed`);
             return null;
         }
         await this._assertIsUnblocked(snapId, {
@@ -840,7 +840,7 @@ class SnapController extends controllers_1.BaseControllerV2 {
         const processedPermissions = this.processSnapPermissions(newSnap.manifest.initialPermissions);
         const { newPermissions, unusedPermissions, approvedPermissions } = await this.calculatePermissionsChange(snapId, processedPermissions);
         const id = (0, nanoid_1.nanoid)();
-        const isApproved = await this.messagingSystem.call('ApprovalController:addRequest', {
+        const _a = (await this.messagingSystem.call('ApprovalController:addRequest', {
             origin,
             id,
             type: exports.SNAP_APPROVAL_UPDATE,
@@ -854,10 +854,7 @@ class SnapController extends controllers_1.BaseControllerV2 {
                 approvedPermissions,
                 unusedPermissions,
             },
-        }, true);
-        if (!isApproved) {
-            return null;
-        }
+        }, true)), { permissions: approvedNewPermissions } = _a, requestData = __rest(_a, ["permissions"]);
         if (this.isRunning(snapId)) {
             await this.stopSnap(snapId, snap_utils_1.SnapStatusEvents.Stop);
         }
@@ -875,10 +872,11 @@ class SnapController extends controllers_1.BaseControllerV2 {
                 [snapId]: unusedPermissionsKeys,
             });
         }
-        if ((0, utils_1.isNonEmptyArray)(Object.keys(newPermissions))) {
+        if ((0, utils_1.isNonEmptyArray)(Object.keys(approvedNewPermissions))) {
             await this.messagingSystem.call('PermissionController:grantPermissions', {
-                approvedPermissions: newPermissions,
+                approvedPermissions: approvedNewPermissions,
                 subject: { origin: snapId },
+                requestData,
             });
         }
         await this._startSnap({ snapId, sourceCode: newSnap.sourceCode });
@@ -1137,7 +1135,7 @@ class SnapController extends controllers_1.BaseControllerV2 {
      * @param snapId - The id of the Snap.
      * @returns The snap's approvedPermissions.
      */
-    async authorize(origin, snapId) {
+     async authorize(origin, snapId) {
         console.info(`Authorizing snap: ${snapId}`);
         const snapsState = this.state.snaps;
         const snap = snapsState[snapId];
@@ -1145,7 +1143,7 @@ class SnapController extends controllers_1.BaseControllerV2 {
         try {
             const processedPermissions = this.processSnapPermissions(initialPermissions);
             const id = (0, nanoid_1.nanoid)();
-            const isApproved = await this.messagingSystem.call('ApprovalController:addRequest', {
+            const _a = (await this.messagingSystem.call('ApprovalController:addRequest', {
                 origin,
                 id,
                 type: exports.SNAP_APPROVAL_INSTALL,
@@ -1155,14 +1153,12 @@ class SnapController extends controllers_1.BaseControllerV2 {
                     permissions: processedPermissions,
                     snapId,
                 },
-            }, true);
-            if (!isApproved) {
-                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest();
-            }
-            if ((0, utils_1.isNonEmptyArray)(Object.keys(processedPermissions))) {
+            }, true)), { permissions: approvedPermissions } = _a, requestData = __rest(_a, ["permissions"]);
+            if ((0, utils_1.isNonEmptyArray)(Object.keys(approvedPermissions))) {
                 await this.messagingSystem.call('PermissionController:grantPermissions', {
-                    approvedPermissions: processedPermissions,
+                    approvedPermissions,
                     subject: { origin: snapId },
+                    requestData,
                 });
             }
         }
